org: pmansell
app: salve
service: server
frameworkVersion: '3'

provider:
  name: aws
  runtime: nodejs14.x
  lambdaHashingVersion: '20201221'
  stage: ${opt:stage, 'prod'}
  region: ${opt:region, 'eu-west-2'}

plugins:
  - serverless-plugin-typescript 
  - serverless-offline

custom:
  serverless-offline:
    httpPort: 4000

package:
  include:
     - data/**

functions:
  getClinics:
    handler: functions/getClinics.handler
    events:
      - http:
          path: clinics
          method: get
          cors: true
  getPatients:
    handler: functions/getPatients.handler
    events:
      - http:
          path: patients/{id}
          method: get
          cors: true
